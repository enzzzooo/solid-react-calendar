"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./_lib/defaultOptions.js"),t=require("./_lib/format/formatters.js"),r=require("./_lib/format/longFormatters.js"),o=require("./_lib/protectedTokens.js"),a=require("./isValid.js"),n=require("./toDate.js"),s=require("./locale/en-US.js");const i=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,l=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,c=/^'([^]*?)'?$/,u=/''/g,f=/[a-zA-Z]/;function p(c,u,p){const k=e.getDefaultOptions(),d=p?.locale??k.locale??s.enUS,g=p?.firstWeekContainsDate??p?.locale?.options?.firstWeekContainsDate??k.firstWeekContainsDate??k.locale?.options?.firstWeekContainsDate??1,w=p?.weekStartsOn??p?.locale?.options?.weekStartsOn??k.weekStartsOn??k.locale?.options?.weekStartsOn??0,D=n.toDate(c,p?.in);if(!a.isValid(D))throw new RangeError("Invalid time value");let O=u.match(l).map((e=>{const t=e[0];if("p"===t||"P"===t){return(0,r.longFormatters[t])(e,d.formatLong)}return e})).join("").match(i).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const r=e[0];if("'"===r)return{isToken:!1,value:m(e)};if(t.formatters[r])return{isToken:!0,value:e};if(r.match(f))throw new RangeError("Format string contains an unescaped latin alphabet character `"+r+"`");return{isToken:!1,value:e}}));d.localize.preprocessor&&(O=d.localize.preprocessor(D,O));const T={firstWeekContainsDate:g,weekStartsOn:w,locale:d};return O.map((e=>{if(!e.isToken)return e.value;const r=e.value;(!p?.useAdditionalWeekYearTokens&&o.isProtectedWeekYearToken(r)||!p?.useAdditionalDayOfYearTokens&&o.isProtectedDayOfYearToken(r))&&o.warnOrThrowProtectedError(r,u,String(c));return(0,t.formatters[r[0]])(D,r,d.localize,T)})).join("")}function m(e){const t=e.match(c);return t?t[1].replace(u,"'"):e}exports.formatters=t.formatters,exports.longFormatters=r.longFormatters,exports.default=p,exports.format=p,exports.formatDate=p;
//# sourceMappingURL=format.js.map
